<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <title>SparkPlay</title>

  <!-- PWA / iOS icons (tu le hai gi√†: icona.png in root) -->
  <link rel="icon" href="icona.png?v=1">
  <link rel="apple-touch-icon" href="icona.png?v=1">
  <meta name="theme-color" content="#0b1b3a">

  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --rossa:#ff5e6c;
      --blu:#00d2ff;
      --giallo:#ffe66d;

      /* pi√π "kids" ma premium: blu pi√π saturo e meno cupo */
      --sfondoTop:#1b5fb8;
      --sfondoMid:#143a7a;
      --sfondoBase:#0b1b3a;

      --latte:#f7fff7;

      --glass: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.14);
      --shadow: 0 18px 45px rgba(0,0,0,.35);

      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    html, body{
      height:100%;
      margin:0;
      background: var(--sfondoBase);
      overflow-x:hidden;
    }

    body{
      font-family:'Quicksand', sans-serif;
      color:var(--latte);
      /* Fix iOS/PWA white bar: usa svh + background anche su html */
      min-height: 100svh;
      overscroll-behavior: none;
      background:
        radial-gradient(circle at 20% 15%, rgba(0,210,255,.22) 0%, rgba(0,210,255,0) 38%),
        radial-gradient(circle at 80% 70%, rgba(255,94,108,.18) 0%, rgba(255,94,108,0) 40%),
        linear-gradient(180deg, var(--sfondoTop) 0%, var(--sfondoMid) 45%, var(--sfondoBase) 100%);
    }

    /* APP ROOT */
    .sp-root{
      max-width: 650px;
      margin: 0 auto;
      min-height: 100svh;
      display:flex;
      flex-direction:column;
      padding: calc(var(--safe-top) + 14px) 18px calc(var(--safe-bottom) + 18px);
      position:relative;
    }

    /* TOP BAR */
    .sp-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 10px;
    }

    .iconBtn{
      width:56px;
      height:56px;
      border-radius:18px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.10);
      box-shadow: 0 10px 22px rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:28px;
      cursor:pointer;
      user-select:none;
    }
    .iconBtn:active{ transform: translateY(1px); }

    .brandWrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      line-height:1;
      flex:1;
      min-width: 0;
    }
    .brand{
      font-family:'Fredoka One', cursive;
      font-size: 36px;
      color: var(--giallo);
      text-shadow: 3px 3px var(--rossa);
      letter-spacing:.5px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .subBrand{
      margin-top:6px;
      font-weight:700;
      color: var(--blu);
      letter-spacing: 7px;
      font-size: 14px;
      opacity:.95;
    }

    /* GLASS CARD */
    .glassCard{
      width:100%;
      border-radius: 34px;
      background: var(--glass);
      border:1px solid var(--stroke);
      box-shadow: var(--shadow);
      padding: 20px 18px;
    }

    .content-area{
      flex:1;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      gap:14px;
      width:100%;
    }

    /* HOME HERO IMAGE */
    .heroFrame{
      width:100%;
      border-radius: 30px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      padding: 16px;
    }
    .heroImg{
      width:100%;
      display:block;
      border-radius: 24px;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 14px 35px rgba(0,0,0,.28);
      background: rgba(0,0,0,.12);
    }

    /* BIG TEXT */
    .bigTitle{
      font-family:'Fredoka One', cursive;
      font-size: 56px;
      color: var(--giallo);
      text-shadow: 4px 4px rgba(0,0,0,.25);
      margin: 4px 0 0;
      letter-spacing: 1px;
    }

    /* BUTTONS */
    .btn{
      border:none;
      cursor:pointer;
      user-select:none;
      font-family:'Fredoka One', cursive;
      border-radius: 26px;
    }
    .btn-main{
      width: 100%;
      max-width: 520px;
      padding: 22px 18px;
      font-size: 26px;
      color: #fff;
      background: var(--rossa);
      box-shadow: 0 10px 0 rgba(196,61,74,.95), 0 18px 36px rgba(0,0,0,.25);
    }
    .btn-main:active{
      transform: translateY(6px);
      box-shadow: 0 4px 0 rgba(196,61,74,.95), 0 12px 28px rgba(0,0,0,.18);
    }

    .pills{
      width:100%;
      display:flex;
      gap:12px;
      justify-content:center;
    }
    .pill{
      flex:1;
      max-width: 250px;
      padding: 14px 14px;
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--latte);
      text-align:center;
      font-weight:800;
      letter-spacing:.4px;
    }

    /* GAME */
    .missionTitle{
      font-family:'Fredoka One', cursive;
      font-size: 34px;
      color: var(--giallo);
      text-shadow: 3px 3px rgba(0,0,0,.22);
      margin: 4px 0 6px;
      text-align:center;
      width:100%;
    }
    .story{
      font-size: 18px;
      text-align:center;
      line-height:1.35;
      opacity:.95;
      padding: 0 6px;
    }
    .obiettivo{
      width:100%;
      border-radius: 26px;
      padding: 14px 14px;
      border: 3px dashed rgba(0,210,255,.75);
      background: rgba(255,255,255,.08);
      text-align:center;
    }
    .obiettivo .label{
      letter-spacing: 8px;
      font-weight:900;
      color: var(--blu);
      font-size: 12px;
      opacity:.95;
    }
    .obiettivo .value{
      margin-top: 8px;
      font-weight:900;
      font-size: 24px;
      color: #fff;
    }

    .steps{
      width:100%;
      display:flex;
      flex-direction:column;
      gap:12px;
      margin-top: 6px;
    }
    .passo{
      width:100%;
      display:flex;
      align-items:center;
      gap: 12px;
      padding: 16px 16px;
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.10);
      font-weight: 800;
      font-size: 18px;
    }
    .badgeNum{
      width:44px;
      height:44px;
      border-radius: 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      font-family:'Fredoka One', cursive;
      font-size: 20px;
    }
    .passo.attivo{
      background: rgba(255,255,255,.92);
      color: var(--sfondoBase);
      transform: scale(1.01);
      box-shadow: 0 14px 28px rgba(0,0,0,.28);
      border:1px solid rgba(255,255,255,.25);
    }

    /* SUCCESS OVERLAY */
    #overlay-success{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index:3000;
      background: rgba(0,0,0,.82);
      padding: 22px;
    }
    .successBox{
      width:min(520px, 92vw);
      border-radius: 34px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      padding: 26px 18px;
      text-align:center;
      box-shadow: 0 30px 80px rgba(0,0,0,.45);
    }
    .successTitle{
      font-family:'Fredoka One', cursive;
      font-size: 44px;
      color: var(--giallo);
      text-shadow: 4px 4px var(--rossa);
      line-height: 1.0;
    }

    /* DIARIO MODAL */
    #diario-modal{
      position:fixed;
      inset:0;
      z-index:2000;
      display:none;
      flex-direction:column;
      padding: calc(var(--safe-top) + 18px) 18px calc(var(--safe-bottom) + 18px);
      background:
        radial-gradient(circle at 20% 15%, rgba(0,210,255,.20) 0%, rgba(0,210,255,0) 40%),
        linear-gradient(180deg, var(--sfondoTop) 0%, var(--sfondoMid) 45%, var(--sfondoBase) 100%);
      overflow:auto;
    }
    .diarioHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 14px;
    }
    .diarioTitle{
      font-family:'Fredoka One', cursive;
      font-size: 44px;
      color: #fff;
      text-shadow: 3px 3px rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      gap: 10px;
    }
    .diarioSub{
      color: var(--blu);
      letter-spacing: 10px;
      font-weight:900;
      margin-top: 6px;
      font-size: 12px;
      opacity:.95;
    }
    .closeBtn{
      width:70px;
      height:70px;
      border-radius: 22px;
      border:none;
      background: var(--rossa);
      color: #fff;
      font-family:'Fredoka One', cursive;
      font-size: 30px;
      box-shadow: 0 12px 0 rgba(196,61,74,.9);
      cursor:pointer;
    }
    .closeBtn:active{
      transform: translateY(6px);
      box-shadow: 0 6px 0 rgba(196,61,74,.9);
    }

    .diarioList{
      display:flex;
      flex-direction:column;
      gap: 14px;
      padding-top: 8px;
    }
    .diarioItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 16px 16px;
      border-radius: 26px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
    }
    .diarioLeft{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 0;
    }
    .diarioIcon{
      width:54px;
      height:54px;
      border-radius: 20px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.12);
      font-size: 26px;
      flex: 0 0 auto;
    }
    .diarioText{
      min-width:0;
    }
    .diarioName{
      font-family:'Fredoka One', cursive;
      font-size: 22px;
      color:#fff;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 44vw;
    }
    .diarioDate{
      margin-top: 4px;
      opacity:.8;
      font-weight:800;
    }
    .diarioAge{
      padding: 10px 14px;
      border-radius: 18px;
      background: rgba(0,0,0,.20);
      border: 1px solid rgba(255,255,255,.12);
      font-weight: 900;
      color: var(--blu);
      min-width: 62px;
      text-align:center;
    }

    .hintSmall{
      font-size: 13px;
      opacity: .85;
      text-align:center;
      margin-top: 4px;
    }
  </style>
</head>

<body>
  <div id="overlay-success">
    <div class="successBox">
      <div class="successTitle">MISSIONE<br>COMPLETATA!</div>
      <div class="hintSmall" style="margin-top:10px">Tra poco parte la prossima ‚ú®</div>
    </div>
  </div>

  <div id="diario-modal">
    <div class="diarioHeader">
      <div>
        <div class="diarioTitle">DIARIO <span aria-hidden="true">üìö</span></div>
        <div class="diarioSub">I TUOI RICORDI</div>
      </div>
      <button class="closeBtn" onclick="chiudiDiario()">√ó</button>
    </div>
    <div id="lista-diario" class="diarioList"></div>
  </div>

  <div id="SPARKPLAY_APP" class="sp-root"></div>

  <script>
  (() => {
    "use strict";

    /* ===== DB (metti qui tutte le missioni che vuoi, io non te le ho tagliate) ===== */
    const DB = {
      "5-7": [
        { t:"SEGNALE PERDUTO", s:"La base ha perso il segnale! La galassia √® al buio!", o:"RIACCENDI L'ANTENNA!", p:[
          "Trova un calzino stellare.",
          "Portalo sulla base, sopra il tappeto.",
          "D√¨ tre volte a voce alta: Bip! Bip! Bip!"
        ]},
        { t:"SATELLITE MORBIDO", s:"Un satellite √® caduto tra le stelle!", o:"RECUPERALO!", p:[
          "Trova un peluche (il tuo satellite).",
          "Fagli fare un giro intorno al tavolo.",
          "Mettilo a riposare in un posto alto."
        ]},
        { t:"POLVERE DI STELLE", s:"Un‚Äôonda di polvere ha coperto i motori.", o:"PULISCI I PANNELLI SOLARI.", p:[
          "Prendi un calzino o un panno morbido.",
          "Pulisci tre superfici diverse nella stanza.",
          "Soffia forte su ogni punto pulito!"
        ]},
        { t:"ANTENNA SPAZIALE", s:"Dobbiamo inviare un messaggio alla base!", o:"COSTRUISCI UN‚ÄôANTENNA.", p:[
          "Trova un cucchiaio o una matita lunga.",
          "Mettila in verticale in un bicchiere.",
          "Fai finta di inviare un messaggio: "Pronti al decollo!""
        ]}
      ],
      "8-10": [
        { t:"MODULO VIBRANTE", s:"Il modulo quattro vibra forte. Serve silenzio assoluto!", o:"RIPARA IN SILENZIO", p:[
          "Trova un foglio di carta.",
          "Portalo alla base senza fare rumore.",
          "Piegalo in quattro e mettilo sotto un cuscino."
        ]},
        { t:"ROUTER ORBITALE", s:"La rete orbitale √® instabile.", o:"RISTABILISCI IL SEGNALE", p:[
          "Trova 3 oggetti piccoli (vite, tappo, lego).",
          "Allineali in fila come una "antenna".",
          "Conta da 10 a 1 come se riavviassi il sistema."
        ]}
      ]
    };

    /* ===== STATE ===== */
    const S = {
      screen: "HOME",     // HOME | AGE | GAME
      eta: null,          // "5-7" | "8-10"
      missionIndex: 0,
      stepIndex: 0,
      mission: null,
      audioOn: true,
      diary: []           // {title, date, age}
    };

    const $app = document.getElementById("SPARKPLAY_APP");
    const $overlay = document.getElementById("overlay-success");
    const $diaryModal = document.getElementById("diario-modal");
    const $diaryList = document.getElementById("lista-diario");

    /* ===== AUDIO ===== */
    let currentUtter = null;

    function speak(text){
      if(!S.audioOn) return;
      if(!("speechSynthesis" in window)) return;

      // stop precedente
      try { window.speechSynthesis.cancel(); } catch(e){}

      currentUtter = new SpeechSynthesisUtterance(text);
      currentUtter.lang = "it-IT";
      currentUtter.rate = 0.78;   // pi√π lento per 5-7
      currentUtter.pitch = 1.06;

      // sicurezza: se cambia schermo, non deve "tagliare"
      try { window.speechSynthesis.speak(currentUtter); } catch(e){}
    }

    document.addEventListener("visibilitychange", () => {
      // evita "audio random" quando cambi app/tab
      try { window.speechSynthesis.cancel(); } catch(e){}
    });

    /* ===== HELPERS ===== */
    function todayDDMMYYYY(){
      const d = new Date();
      const dd = String(d.getDate()).padStart(2,"0");
      const mm = String(d.getMonth()+1).padStart(2,"0");
      const yy = d.getFullYear();
      return `${dd}/${mm}/${yy}`;
    }

    function render(){
      if(S.screen === "HOME") renderHome();
      else if(S.screen === "AGE") renderAge();
      else if(S.screen === "GAME") renderGame();
    }

    function topBar({left, centerTitle, centerSub, right}){
      return `
        <div class="sp-top">
          <button class="iconBtn" onclick="${left.onclick}" aria-label="${left.label}">${left.icon}</button>
          <div class="brandWrap">
            <div class="brand">${centerTitle}</div>
            ${centerSub ? `<div class="subBrand">${centerSub}</div>` : ``}
          </div>
          <button class="iconBtn" onclick="${right.onclick}" aria-label="${right.label}">${right.icon}</button>
        </div>
      `;
    }

    /* ===== SCREENS ===== */
    function renderHome(){
      $app.innerHTML = `
        ${topBar({
          left:{icon:"üìö", label:"Apri diario", onclick:"apriDiario()"},
          centerTitle:"SPARKPLAY",
          centerSub:"SPAZIO",
          right:{icon:(S.audioOn?"üîä":"üîà"), label:"Audio", onclick:"toggleAudio()"}
        })}

        <div class="content-area">
          <div class="glassCard">
            <div class="heroFrame">
              <img class="heroImg" src="home-hero.png" alt="SparkPlay Home Hero" loading="eager" />
            </div>

            <div style="display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:14px;">
              <div class="bigTitle">PRONTI?</div>

              <button class="btn btn-main" onclick="goAge()">INIZIA MISSIONE</button>

              <div class="pills">
                <div class="pill">OGGI: <span style="color:var(--giallo)">0/3</span></div>
                <div class="pill">ET√Ä: <span style="color:var(--giallo)">${S.eta ? S.eta : "--"}</span></div>
              </div>

              <div class="hintSmall">Consiglio: scegli l‚Äôet√† una volta, poi giochi senza pensieri.</div>
            </div>
          </div>
        </div>
      `;
    }

    function renderAge(){
      $app.innerHTML = `
        ${topBar({
          left:{icon:"‚Üê", label:"Indietro", onclick:"goHome()"},
          centerTitle:"CHI SEI?",
          centerSub:"",
          right:{icon:(S.audioOn?"üîä":"üîà"), label:"Audio", onclick:"toggleAudio()"}
        })}

        <div class="content-area">
          <div class="glassCard" style="max-width:520px;">
            <div style="display:flex; flex-direction:column; gap:14px;">
              <button class="btn" style="background:rgba(255,255,255,0.10); border:2px solid rgba(0,210,255,.85); color:white; padding:20px; width:100%; display:flex; align-items:center; justify-content:space-between; gap:14px;"
                onclick="chooseAge('5-7')">
                <span style="font-size:28px;">üöÄ</span>
                <div style="text-align:left; flex:1;">
                  <div style="font-family:'Fredoka One'; font-size:18px;">ESPLORATORE</div>
                  <div style="opacity:.85; font-weight:800;">5‚Äì7 ANNI</div>
                </div>
                <span style="opacity:.85;">‚Üí</span>
              </button>

              <button class="btn" style="background:rgba(255,255,255,0.10); border:2px solid rgba(255,94,108,.90); color:white; padding:20px; width:100%; display:flex; align-items:center; justify-content:space-between; gap:14px;"
                onclick="chooseAge('8-10')">
                <span style="font-size:28px;">üß†</span>
                <div style="text-align:left; flex:1;">
                  <div style="font-family:'Fredoka One'; font-size:18px;">COMANDANTE</div>
                  <div style="opacity:.85; font-weight:800;">8‚Äì10 ANNI</div>
                </div>
                <span style="opacity:.85;">‚Üí</span>
              </button>

              <div class="hintSmall">Puoi cambiare et√† quando vuoi (da Home).</div>
            </div>
          </div>
        </div>
      `;
      speak("Scegli la tua et√†. Esploratore cinque sette anni. Comandante otto dieci anni.");
    }

    function renderGame(){
      const m = S.mission;
      const stepsHtml = m.p.map((txt, i) => `
        <div class="passo ${i===S.stepIndex ? 'attivo' : ''}">
          <div class="badgeNum">${i+1}</div>
          <div style="flex:1;">${txt}</div>
        </div>
      `).join("");

      $app.innerHTML = `
        ${topBar({
          left:{icon:(S.audioOn?"üîä":"üîà"), label:"Audio", onclick:"toggleAudio()"},
          centerTitle:"SPARKPLAY",
          centerSub:"SPAZIO",
          right:{icon:"‚úï", label:"Esci", onclick:"goHome()"}
        })}

        <div class="content-area">
          <div class="glassCard">
            <div class="missionTitle">${m.t}</div>
            <div class="story">${m.s}</div>

            <div class="obiettivo" style="margin-top:14px;">
              <div class="label">OBIETTIVO</div>
              <div class="value">${m.o}</div>
            </div>

            <div class="steps">${stepsHtml}</div>

            <div style="margin-top:14px;">
              <button class="btn btn-main" onclick="nextStep()">
                ${S.stepIndex < m.p.length-1 ? "AVANTI" : "COMPLETA ‚úÖ"}
              </button>
            </div>

            <div class="hintSmall" style="margin-top:10px;">
              Tip: se vuoi riascoltare, premi AVANTI e la frase viene letta completa.
            </div>
          </div>
        </div>
      `;
    }

    /* ===== GAME FLOW ===== */
    function startMission(){
      if(!S.eta){
        S.screen = "AGE";
        render();
        return;
      }
      S.missionIndex = 0;
      loadMission();
    }

    function loadMission(){
      const arr = DB[S.eta] || [];
      if(S.missionIndex >= arr.length){
        // finito: torna home
        S.screen = "HOME";
        render();
        speak("Perfetto. A domani!");
        return;
      }

      S.mission = arr[S.missionIndex];
      S.stepIndex = 0;
      S.screen = "GAME";
      render();

      // lettura introduttiva + primo step
      speak(`${S.mission.s} Obiettivo: ${S.mission.o}. Primo passaggio: ${S.mission.p[0]}`);
    }

    function completeMission(){
      // salva su diario: SOLO icona diario in lista (come vuoi tu)
      S.diary.unshift({
        title: S.mission.t,
        date: todayDDMMYYYY(),
        age: S.eta
      });

      // overlay + audio
      $overlay.style.display = "flex";
      speak("Missione completata! Bravissimo!");

      setTimeout(() => {
        $overlay.style.display = "none";
        S.missionIndex++;
        loadMission();
      }, 2200);
    }

    /* ===== DIARY ===== */
    function renderDiary(){
      if(S.diary.length === 0){
        $diaryList.innerHTML = `
          <div class="glassCard" style="text-align:center;">
            <div style="font-family:'Fredoka One'; font-size:22px; color:var(--giallo);">Ancora vuoto</div>
            <div class="hintSmall" style="margin-top:10px;">Completa una missione e comparir√† qui üìì</div>
          </div>
        `;
        return;
      }

      $diaryList.innerHTML = S.diary.map(item => `
        <div class="diarioItem">
          <div class="diarioLeft">
            <div class="diarioIcon" aria-hidden="true">üìì</div>
            <div class="diarioText">
              <div class="diarioName">${item.title}</div>
              <div class="diarioDate">${item.date}</div>
            </div>
          </div>
          <div class="diarioAge">${item.age}</div>
        </div>
      `).join("");
    }

    /* ===== PUBLIC (onclick) ===== */
    window.toggleAudio = () => {
      S.audioOn = !S.audioOn;
      try { window.speechSynthesis.cancel(); } catch(e){}
      render();
    };

    window.goHome = () => {
      try { window.speechSynthesis.cancel(); } catch(e){}
      S.screen = "HOME";
      render();
    };

    window.goAge = () => {
      try { window.speechSynthesis.cancel(); } catch(e){}
      S.screen = "AGE";
      render();
    };

    window.chooseAge = (age) => {
      S.eta = age;
      try { window.speechSynthesis.cancel(); } catch(e){}
      // vai subito in gioco
      startMission();
    };

    window.nextStep = () => {
      if(!S.mission) return;

      // se non ultimo step
      if(S.stepIndex < S.mission.p.length - 1){
        S.stepIndex++;
        render();
        // rilegge SEMPRE la frase per intero
        speak(S.mission.p[S.stepIndex]);
        return;
      }

      // ultimo step => completa
      completeMission();
    };

    window.apriDiario = () => {
      renderDiary();
      $diaryModal.style.display = "flex";
      speak("Ecco il tuo diario.");
    };

    window.chiudiDiario = () => {
      $diaryModal.style.display = "none";
      try { window.speechSynthesis.cancel(); } catch(e){}
    };

    window.goStart = () => startMission();

    /* ===== INIT ===== */
    render();

  })();
  </script>
</body>
</html>